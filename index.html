<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Joshua Garwood | Game Design Portfolio</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Playfair+Display:wght@500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>

<header class="nav">
  <h1>Joshua Garwood Game Design Portfolio</h1>
</header>

<section id="projects" class="section">
  <h2>Projects</h2>

  <div class="carousel-wrapper">

    <button class="carousel-btn left" onclick="move(-1)">◀</button>

    <div class="carousel-viewport">
      <div class="carousel-track" id="track">

        <div class="project">PCG Dungeon Generator</div>
        <div class="project">Nightmare</div>
        <div class="project">Where Am I?</div>
        <div class="project">Spell Quest</div>

      </div>
    </div>

    <button class="carousel-btn right" onclick="move(1)">▶</button>

  </div>
</section>

<script>
const track = document.getElementById("track");
const projects = Array.from(track.children);

const itemWidth = 420; // card width + gap
let index = 0;

// Duplicate items for illusion
projects.forEach(p => {
  track.appendChild(p.cloneNode(true));
  track.insertBefore(p.cloneNode(true), track.firstChild);
});

function move(dir) {
  index += dir;
  update();
}

function update() {
  const offset = -index * itemWidth;
  track.style.transform = `translateX(${offset}px)`;

  setActive();
}

function setActive() {
  const all = track.children;
  [...all].forEach(el => el.classList.remove("active"));

  const center =
    Math.floor(all.length / 2) + index;

  all[center]?.classList.add("active");
}

// Init
update();
</script>

</body>
</html>

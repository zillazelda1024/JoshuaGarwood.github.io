<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PCG Dungeon Generator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Playfair+Display:wght@500;600;700&display=swap" rel="stylesheet">


    <link rel="stylesheet" href="dungeon.css">
</head>

<body>

    <!-- NAV -->
    <header class="nav">

        <nav class="nav-menu">
            <a href="#about">About</a>

            <div class="nav-dropdown">
                <button class="nav-link">
                    Projects ▾
                </button>

                <div class="dropdown-menu">
                    <a href="../PCGDungeonGenerator/index.html">PCG Dungeon Generator</a>
                    <a href="../Nightmare/index.html">Nightmare</a>
                    <a href="../SpellQuest/index.html">Spell Quest</a>
                    <a href="../WhereAmI/index.html">Where Am I</a>
                    <a href="../LaunchEm/index.html">Launch Em</a>
                    <a href="../SnakeOdyssey64/index.html">Snake Odyssey 64</a>
                    <a href="../RunFromGary/index.html">Run From Gary</a>
                    <a href="../BleachTapper/index.html">Bleach Tapper</a>
                    <a href="../TheSacrifice/index.html">The Sacrifice</a>
                    <a href="../TempleTap/index.html">The Letter Temple</a>
                    <a href="../DeadMeme/index.html">Dead Meme</a>
                    <a href="../HauntedHouse/index.html">The Haunted House</a>


                </div>

            </div>

            <a href="#greyboxing">3D Work</a>
        </nav>

    </header>

    <!-- HERO -->

    <section class="hero">
        <h1>University Dissertation Artifact</h1>
        <h2>PCG Dungeon Generator</h2>
    </section>
    <section class="video-text-section">
        <div class="text-content">
            <h1>University Dissertation Artifact<br>PCG Dungeon Generator</h1>
            <p>
                Platform: PC
            </p>
            <p>
                Team Size: 1
            </p>
            <p>
                Project Duration: 5 months
            </p>
            <p>
                Engine & Tools: Unity, Photoshop, YouTube
            </p>
        </div>

        <div class="video-wrapper">
            <video width="100%" controls>
                <source src="../videos/dissvideo.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>



            <p class="video-fallback">
                <a href="https://youtu.be/H3dkdJ0iHV0" target="_blank">
                    Watch video on YouTube
                </a>
            </p>
        </div>


    </section>



    <!-- SECTION 1 -->
    <section class="content-section">
        <div class="content-grid">
            <div class="media">
                <!-- Replace with iframe later if needed -->
                <img src="../images/portfoliowebspageimage.webp" alt="Dungeon Generator Preview">
            </div>

            <div class="text">
                <h3>Project Overview</h3>
                <p>
                    For my university dissertation, I developed a PC based artificial focused on procedural content generation (PCG) methods for dungeon generation. This project explored various PCG algorithms commonly applied in dungeon generation, analyzing their strengths and limitations. The artifact is an interactive application that demonstrates each algorithm's capabilities by allowing users to adjust map parameters, such as dungeon size, number of rooms, and corridor configurations. This adjustable functionality offers insight into the flexibility and constraints of each algorithm.
                </p>
            </div>
        </div>
    </section>

    <!-- SECTION 2 -->
    <section class="content-section alt reverse">
        <div class="content-grid">


            <div class="text">
                <h3>Design & Mechanics</h3>
                <p>
                    This Project Demonstrates six of the most commonly used PCG methods in the game industry these being The Cellular Automata, Binary Space Partitioning, Perlin noise, Recursive Division, Drunkard walk Algorithm, and the Recursive Backtracking algorithms. This project explored various PCG algorithms commonly applied in dungeon generation, analyzing their strengths and limitations. The artifact is an interactive application that demonstrates each algorithm's capabilities by allowing users to adjust map parameters, such as dungeon size, number of rooms, and corridor configurations. This adjustable functionality offers insight into the flexibility and constraints of each algorithm.
                </p>
            </div>
            <div class="media">
                <div class="image-pair">
                    <img src="../images/dis2.webp" alt="Dungeon Layout Example">
                    <img src="../images/dis3.webp" alt="Dungeon Layout Example 2">
                </div>
            </div>

        </div>
    </section>

    <section class="content-section">
        <div class="content-grid">
            <div class="media">
                <div class="image-pair">
                    <img src="../images/dis4.webp" alt="Dungeon Layout Example">
                    <img src="../images/dis8.webp" alt="Dungeon Layout Example 2">
                </div>
            </div>


            <div class="text">
                <h3>Key Responsibilities</h3>
                <p>
                    As the sole developer, I was responsible for the entire lifecycle of the project, from research and planning to execution. This included conducting in-depth research on established PCG algorithms, understanding their mechanics, and implementing these algorithms within the Unity framework to create a functional and informative artifact.
                </p>
            </div>
        </div>
    </section>


    <section class="content-section">
        <div class="content-grid">
            <div class="text">
                <h3>  Contributions</h3>

                <div class="responsibility">
                    <strong>Algorithm Integration:</strong>
                    <p>
                        Researched and integrated multiple PCG algorithms, implementing each to
                        demonstrate their unique approaches to dungeon generation.
                    </p>
                </div>

                <div class="responsibility">
                    <strong>User Interface Design:</strong>
                    <p>
                        Designed and implemented a minimalistic, grey-boxed UI layout using Unity’s
                        default assets, prioritizing functionality over aesthetics to focus attention
                        on the algorithms’ output.
                    </p>
                </div>

                <div class="responsibility">
                    <strong>Project Demonstration:</strong>
                    <p>
                        Developed a flexible, parameter-driven system that enables users to dynamically
                        adjust dungeon generation characteristics. This allows hands-on exploration of
                        how different algorithms respond to changes in dungeon size, room count, and
                        corridor layout.
                    </p>
                </div>
            </div>

            <div class="media">
                <div class="image-pair">
                    <img src="../images/dis6.webp" alt="Dungeon Layout Example">
                    <img src="../images/dis7.webp" alt="Dungeon Layout Example 2">
                </div>
            </div>

        </div>
    </section>

    <section class="algorithms-section">
        <div class="center-box">
            <h3>The Algorithms</h3>

            <p>
                In this project, each algorithm includes a visual demonstration of its process,
                with real-time prompts at the top of the interface that allow users to customize
                dungeon parameters. Users can adjust room sizes, add doors, and modify corridor
                layouts, enabling a highly interactive and tailored experience. This functionality
                provides users with the flexibility to configure dungeon layouts according to their
                preferences, showcasing the unique characteristics and adaptability of each algorithm.
            </p>
        </div>

        <div class="algorithms-grid">
            <div class="algorithm-card">
                <h4>Recursive Backtracking</h4>
                <img src="../images/dis6.webp" alt="Recursive Backtracking Algorithm">
            </div>

            <div class="algorithm-card">
                <h4>Drunkard Walk</h4>
                <img src="../images/dis7.webp" alt="Drunkard Walk Algorithm">
            </div>

            <div class="algorithm-card">
                <h4>Binary Space Partitioning</h4>
                <img src="../images/dis8.webp" alt="Binary Space Partitioning Algorithm">
            </div>

            <div class="algorithm-card">
                <h4>Recursive Division</h4>
                <img src="../images/dis2.webp" alt="Recursive Division Algorithm">
            </div>

            <div class="algorithm-card">
                <h4>Perlin Noise</h4>
                <img src="../images/dis3.webp" alt="Perlin Noise Algorithm">
            </div>

            <div class="algorithm-card">
                <h4>Cellular Automata</h4>
                <img src="../images/dis9.webp" alt="Cellular Automata Algorithm">
            </div>
        </div>
    </section>





    <!-- GENERATOR DEMO -->
    <section class="demo">
        <h3>Live Cellular Automata Generator Demo</h3>

        <button onclick="generateDungeon()">Generate Dungeon</button>

        <div id="dungeon" class="dungeon"></div>
    </section>

    <script>
        const width = 20;
        const height = 20;
        const fillChance = 0.45;
        const iterations = 4;

        let map = [];

        function generateDungeon() {
            initMap();
            for (let i = 0; i < iterations; i++) {
                map = smoothMap(map);
            }
            renderMap();
        }

        function initMap() {
            map = [];
            for (let y = 0; y < height; y++) {
                map[y] = [];
                for (let x = 0; x < width; x++) {
                    map[y][x] = Math.random() < fillChance ? 1 : 0;
                }
            }
        }

        function smoothMap(oldMap) {
            const newMap = [];

            for (let y = 0; y < height; y++) {
                newMap[y] = [];
                for (let x = 0; x < width; x++) {
                    const neighbors = countWallNeighbors(oldMap, x, y);

                    if (neighbors > 4) newMap[y][x] = 1;
                    else if (neighbors < 4) newMap[y][x] = 0;
                    else newMap[y][x] = oldMap[y][x];
                }
            }

            return newMap;
        }

        function countWallNeighbors(map, x, y) {
            let count = 0;

            for (let ny = y - 1; ny <= y + 1; ny++) {
                for (let nx = x - 1; nx <= x + 1; nx++) {
                    if (nx === x && ny === y) continue;

                    if (nx < 0 || ny < 0 || nx >= width || ny >= height) {
                        count++;
                    } else {
                        count += map[ny][nx];
                    }
                }
            }

            return count;
        }

        function renderMap() {
            const dungeon = document.getElementById("dungeon");
            dungeon.innerHTML = "";
            dungeon.style.gridTemplateColumns = `repeat(${width}, 20px)`;

            for (let y = 0; y < height; y++) {
                for (let x = 0; x < width; x++) {
                    const cell = document.createElement("div");
                    cell.className = "cell";
                    cell.classList.add(map[y][x] === 1 ? "wall" : "floor");
                    dungeon.appendChild(cell);
                }
            }
        }
    </script>


    <footer class="footer">
        <p>© Joshua Garwood · Game Designer</p>
        <p>
            <a href="mailto:zillazelda@hotmaol.co.uk">Email</a> ·
            <a href="https://linkedin.com/in/yourname" target="_blank">LinkedIn</a>
        </p>
    </footer>


</body>
</html>
